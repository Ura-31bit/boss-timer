<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãƒœã‚¹å¾©æ´»é€šçŸ¥</title>
<style>

body {

  font-family: -apple-system, BlinkMacSystemFont, sans-serif;

  background: #111;

  color: #fff;

  text-align: center;

  margin: 0;

  padding: 20px;

}

button {

  width: 100%;

  font-size: 18px;

  padding: 16px;

  margin: 10px 0;

  border-radius: 12px;

  border: none;

  background: #2563eb;

  color: white;

}

button:active {

  opacity: 0.8;

}
</style>
</head>
<body>
<h1>ğŸ—¡ ãƒœã‚¹å¾©æ´»é€šçŸ¥</h1>
<p>å€’ã—ãŸç›´å¾Œã«ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„</p>
<div id="buttons"></div>
<script>

// â˜… Service Worker ç™»éŒ²ï¼ˆå¿…é ˆï¼‰

if ("serviceWorker" in navigator) {

  navigator.serviceWorker.register("sw.js");

}

// ãƒœã‚¹å®šç¾©

const BOSSES = [

  { name: "ã‚µã‚·æ´»", respawn: 180, notifyBefore: 30 },

  { name: "é€šå¸¸ãƒœã‚¹", respawn: 180, notifyBefore: 30 },

  { name: "æ®‹ç‡ƒãƒ¢ã‚¨ã‚³", respawn: 1800, notifyBefore: 300 },

  { name: "æœ½ã¡ã–ã‚‹ç«œéª¸ ã‚¤ã‚¾", respawn: 1800, notifyBefore: 300 },

  { name: "é»æ˜ç¥ ãƒˆãƒ¢ãƒ€ãƒ", respawn: 1800, notifyBefore: 300 },

  { name: "å¤ä»£é­š ã‚¶ã‚³ãƒ¼ãƒ³", respawn: 1800, notifyBefore: 300 },

  { name: "ç¦åŸŸã®ã‚¢ãƒŒãƒ“ã‚·ãƒ¥", respawn: 1800, notifyBefore: 300 },

  { name: "ç¦åŸŸã®ã‚¯ãƒãƒŒã‚¤", respawn: 1800, notifyBefore: 300 },

  { name: "ç¦åŸŸã®ãƒ´ã‚¡ãƒ«ãƒã‚·ã‚¢", respawn: 1800, notifyBefore: 300 },

  { name: "æ™‚ç©ºç«œã‚¯ãƒ­ãƒã‚¼ãƒªã‚¦ã‚¹", respawn: 86400, notifyBefore: 300 }

];

const container = document.getElementById("buttons");

// ãƒœã‚¿ãƒ³ç”Ÿæˆ

BOSSES.forEach(boss => {

  const btn = document.createElement("button");

  btn.textContent = boss.name;

  btn.onclick = () => setNotification(boss);

  container.appendChild(btn);

});

// é€šçŸ¥äºˆç´„

function setNotification(boss) {

  if (Notification.permission !== "granted") {

    Notification.requestPermission();

  }

  const notifyTime =

    Date.now() + (boss.respawn - boss.notifyBefore) * 1000;

  navigator.serviceWorker.ready.then(reg => {

    reg.showNotification(

      `${boss.name}ã®ãƒªãƒãƒƒãƒ—${boss.notifyBefore}ç§’å‰ã§ã™ã€‚`,

      {

        showTrigger: new TimestampTrigger(notifyTime)

      }

    );

  });

  alert(`${boss.name} ã®é€šçŸ¥ã‚’ã‚»ãƒƒãƒˆã—ã¾ã—ãŸ`);

}
</script>
</body>
</html>
 
 


