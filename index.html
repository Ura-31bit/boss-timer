<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãƒœã‚¹å¾©æ´»ã‚¿ã‚¤ãƒãƒ¼</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">
<style>

body {

  font-family: -apple-system, BlinkMacSystemFont, sans-serif;

  background: #111;

  color: #fff;

  text-align: center;

  margin: 0;

  padding: 20px;

}

h1 { margin-bottom: 20px; }

button {

  width: 100%;

  font-size: 18px;

  padding: 15px;

  margin: 8px 0;

  border-radius: 12px;

  border: none;

  background: #2563eb;

  color: white;

}

.small { font-size: 14px; opacity: 0.8; }
</style>
</head>
<body>
<h1>ğŸ—¡ ãƒœã‚¹å¾©æ´»é€šçŸ¥</h1>
<div id="buttons"></div>
<script>

if ('serviceWorker' in navigator) {

  navigator.serviceWorker.register('sw.js');

}

const BOSSES = [

  { name: "ã‚µã‚·æ´»", respawn: 180, notifyBefore: 30 },

  { name: "é€šå¸¸ãƒœã‚¹", respawn: 180, notifyBefore: 30 },

  { name: "æ®‹ç‡ƒãƒ¢ã‚¨ã‚³", respawn: 1800, notifyBefore: 300 },

  { name: "æœ½ã¡ã–ã‚‹ç«œéª¸ ã‚¤ã‚¾", respawn: 1800, notifyBefore: 300 },

  { name: "é»æ˜ç¥ ãƒˆãƒ¢ãƒ€ãƒ", respawn: 1800, notifyBefore: 300 },

  { name: "å¤ä»£é­š ã‚¶ã‚³ãƒ¼ãƒ³", respawn: 1800, notifyBefore: 300 },

  { name: "ç¦åŸŸã®ã‚¢ãƒŒãƒ“ã‚·ãƒ¥", respawn: 1800, notifyBefore: 300 },

  { name: "ç¦åŸŸã®ã‚¯ãƒãƒŒã‚¤", respawn: 1800, notifyBefore: 300 },

  { name: "ç¦åŸŸã®ãƒ´ã‚¡ãƒ«ãƒã‚·ã‚¢", respawn: 1800, notifyBefore: 300 },

  { name: "æ™‚ç©ºç«œã‚¯ãƒ­ãƒã‚¼ãƒªã‚¦ã‚¹", respawn: 86400, notifyBefore: 300 }

];

const container = document.getElementById("buttons");

BOSSES.forEach(boss => {

  const btn = document.createElement("button");

  btn.innerHTML = `

    ${boss.name}
<div class="small">

      å¾©æ´» ${boss.respawn / 60}åˆ† / ${boss.notifyBefore}ç§’å‰é€šçŸ¥
</div>

  `;

  btn.onclick = () => setBossTimer(boss);

  container.appendChild(btn);

});

function setBossTimer(boss) {

  if (Notification.permission !== "granted") {

    Notification.requestPermission();

  }

  const notifyTime =

    Date.now() + (boss.respawn - boss.notifyBefore) * 1000;

  navigator.serviceWorker.ready.then(reg => {

    reg.showNotification(

      `${boss.name}ã®ãƒªãƒãƒƒãƒ—${boss.notifyBefore}ç§’å‰ã§ã™ã€‚`,

      {

        showTrigger: new TimestampTrigger(notifyTime),

        body: "æº–å‚™ã—ã¦ãã ã•ã„"

      }

    );

  });

  alert(`${boss.name} ã®å¾©æ´»é€šçŸ¥ã‚’ã‚»ãƒƒãƒˆã—ã¾ã—ãŸ`);

}
</script>
</body>
</html>
 